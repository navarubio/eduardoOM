<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">  
    <h:head>
        <title>Inconsistencia en Datos</title>
        <link href="../recursos/css/estilos.css" rel="stylesheet"/>        
        <link href="../recursos/css/metro-bootstrap.css" rel="stylesheet"/>
        <link href="../recursos/css/iconFont.css" rel="stylesheet"/> 
        <script type="text/javascript" src="../recursos/js/calendario.js"></script> 
        <script type="text/javascript">
            $(document).keypress(
                    function (event) {
                        if (event.which == '13') {
                            event.preventDefault();
                        }


                    });
        </script>
    </h:head>
    <h:body>
        <h:form id="IdFormRegistroClinico">  
            <p:growl id="IdMensajeRefContra"  showDetail="true" sticky="false" autoUpdate="true" life="2000"/>



            <table style="margin-left: auto; margin-right: auto;" >
                <tr><td colspan="2"><h2>INFORME DE POSIBLES INCONSISTENCIAS EN LA BASE DE DATOS DE LA ENTIDAD RESPONSABLE DEL PAGO</h2></td></tr>                                

                <tr><td colspan="2"><h2>INFORMACION DEL PRESTADOR</h2></td></tr>                                

                <td>
                    <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="NOMBRE:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                    <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.empresa.razonSocial}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                    <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="NIT:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                    <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.empresa.numIdentificacion}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                    <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="CODIGO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                    <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.empresa.codEmpresa}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                </td>
                <tr>
                    <td>
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="DIRECCION:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.empresa.direccion}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="TELEFONO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.empresa.telefono1} #{historiasMB.empresa.telefono2}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="DEPARTAMENTO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.empresa.codDepartamento.descripcion} #{historiasMB.empresa.codDepartamento.codigo} "  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="MUNICIPIO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.empresa.codMunicipio.descripcion} #{historiasMB.empresa.codMunicipio.codigo}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 

                    </td>                                        
                </tr>

                <tr><td colspan="2"><h2>INFORMACION DEL PAGADOR</h2></td></tr>                                

                <td>
                    <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="ENTIDAD A LA QUE SE LE INFORMA:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                    <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.idAdministradora.razonSocial}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                    <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="CODIGO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                    <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.idAdministradora.codigoAdministradora} #{historiasMB.empresa.telefono2}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                </td>                                        


                <tr><td colspan="2"><h2>TIPO DE INCONSISTENCIA</h2></td></tr>   

                <tr>
                    <td >
                        <p:focus for="IdFocus" />
                        <p:selectOneMenu id="IdFocus" style="width: 315px;" value="#{historiasMB.datosFormulario.dato0}" filter="true" filterMatchMode="contains">
                            <f:selectItems value="#{aplicacionGeneralMB.listaInconsistencia}"/>
                        </p:selectOneMenu>                        
                    </td>                    
                </tr>

                <tr><td colspan="2"><h2>DATOS DEL USUARIO</h2></td></tr>   

                <tr>
                    <td>
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="PRIMER APELLIDO" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.primerApellido}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="SEGUNDO APELLIDO" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.segundoApellido}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>   
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="PRIMER NOMBRE" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.primerNombre}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="SEGUNDO NOMBRE" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.segundoNombre}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                    </td>                                        
                </tr>
                <tr>
                    <td>
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="DOCUMENTO IDENTIFICACION:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.tipoIdentificacion.descripcion}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="NUMERO DOCUMENTO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.identificacion}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="FECHA DE NACIMIENTO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.fechaNacimiento}"  rendered="#{historiasMB.hayPacienteSeleccionado}">
                            <f:convertDateTime parent="yyyy-mm-dd"/>
                        </p:outputLabel>
                    </td>                                        
                </tr>

                <tr>
                    <td>
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="DIRECCION DE HABITACION:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.direccion}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/>     
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="DEPARTAMENTO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.departamento.descripcion} #{historiasMB.pacienteSeleccionado.departamento.codigo} "  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="MUNICIPIO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.municipio.descripcion} #{historiasMB.pacienteSeleccionado.municipio.codigo}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 
                        <p:outputLabel styleClass="labelFormularioBold" style="font-weight: bold;" value="TELEFONO:" rendered="#{historiasMB.hayPacienteSeleccionado}"/>
                        <p:outputLabel styleClass="labelFormulario"     style="font-weight: bold;" value="#{historiasMB.pacienteSeleccionado.telefonoResidencia}"  rendered="#{historiasMB.hayPacienteSeleccionado}"/> 

                    </td>                                        
                </tr>
                <tr><td colspan="2"><h2>INFORMACION DE LA POSIBLE INCONSISTENCIA</h2></td></tr>   
                <tr>
                    <td><p:outputLabel value="VARIABLE PRESUNTAMENTE INCORRECTA" styleClass="labelFormularioBold" style="font-weight: bold;"/></td>    
                    <td><p:outputLabel value="DATOS SEGUN DOCUMENTO DE IDENTIFICACION (fisico)" styleClass="labelFormularioBold" style="font-weight: bold;"/></td>                                        
                </tr>
                <tr>
                    <td>
                        <p:selectBooleanCheckbox id= "papell" value="#{historiasMB.primerapellido}">
                            <p:ajax update="papellido" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel for="papell" value="   PRIMER APELLIDO" style="font-weight: bold;"/>
                    </td>
                    <td>
                        <p:inputText  id="papellido" styleClass="width1" value="#{historiasMB.datosFormulario.dato3}"   />
                    </td>                  
                </tr>    
                <tr>
                    <td>
                        <p:selectBooleanCheckbox id= "sapell" value="#{historiasMB.primerapellido}">
                            <p:ajax update="sapellido" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel for="sapell" value="    SEGUNDO APELLIDO" />
                    </td>
                    <td>
                        <p:inputText  id="sapellido" styleClass="width1" value="#{historiasMB.datosFormulario.dato4}"   />
                    </td>                  
                </tr>    
                <tr>
                    <td>
                        <p:selectBooleanCheckbox id= "pnomb" value="#{historiasMB.primerapellido}">
                            <p:ajax update="pnombre" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel for="pnomb" value="    PRIMER NOMBRE" />
                    </td>
                    <td>
                        <p:inputText  id="pnombre" styleClass="width1" value="#{historiasMB.datosFormulario.dato4}"   />
                    </td>                  
                </tr>  
                <tr>
                    <td>
                        <p:selectBooleanCheckbox id= "snomb" value="#{historiasMB.primerapellido}">
                            <p:ajax update="snombre" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel for="snomb" value="    SEGUNDO NOMBRE" />
                    </td>
                    <td>
                        <p:inputText  id="snombre" styleClass="width1" value="#{historiasMB.datosFormulario.dato4}"   />
                    </td>                  
                </tr>  

                <tr>
                    <td>
                        <p:selectBooleanCheckbox id= "tdocu" value="#{historiasMB.primerapellido}">
                            <p:ajax update="snombre" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel for="tdocu" value="    TIPO DOCUMENTO IDENTIFICACION" />
                    </td>
                    <td >
                        <p:focus for="IdFocus2" />
                        <p:selectOneMenu id="IdFocus2" style="width: 315px;" value="#{historiasMB.datosFormulario.dato0}" filter="true" filterMatchMode="contains">
                            <f:selectItems value="#{aplicacionGeneralMB.listaTipoIdentificacion}"/>
                        </p:selectOneMenu>                        
                    </td>                    
                </tr>
                <tr>
                    <td>
                        <p:selectBooleanCheckbox id= "numerodoc" value="#{historiasMB.primerapellido}">
                            <p:ajax update="ndocument" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel for="numerodoc" value="    NUMERO DOCUMENTO IDENTIFICACION" />
                    </td>
                    <td>
                        <p:inputText  id="ndocument" styleClass="width1" value="#{historiasMB.datosFormulario.dato4}"   />
                    </td>                  
                </tr>  
                <tr>
                    <td>
                        <p:selectBooleanCheckbox id= "fnac" value="#{historiasMB.primerapellido}">
                            <p:ajax update="fechanacimiento" />
                        </p:selectBooleanCheckbox>
                        <p:outputLabel for="fnac" value="    FECHA DE NACIMIENTO" />
                    </td>
                    <td >
                        <p:calendar id="fechanacimiento" navigator="true" locale="es" value="#{historiasMB.datosFormulario.dato6}" pattern="dd/MM/yyyy" mask="true" size="23" style="width: 200px;">
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </p:calendar>                   
                    </td>                    
                </tr>

                <tr>
                    <td colspan="2">
                        <br/>
                        <table>
                            <tr>
                                <td>
                                    <p:outputLabel value="FECHA Y HORA DE LLEGADA"/>
                                </td>
                                <td>
                                    <p:calendar navigator="true" locale="es" value="#{historiasMB.datosFormulario.dato4}" pattern="dd/MM/yyyy HH:mm:ss" mask="true" size="23" style="width: 200px;">
                                        <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss"/>
                                    </p:calendar>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p:outputLabel value="FECHA Y HORA DE ATENCION DEL PACIENTE"/>
                                </td>                                
                                <td>
                                    <p:calendar navigator="true" locale="es" value="#{historiasMB.datosFormulario.dato5}" pattern="dd/MM/yyyy HH:mm:ss" mask="true" size="23" style="width: 200px;">
                                        <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss"/>
                                    </p:calendar>
                                </td>
                            </tr>
                            <tr>
                                <td><p:outputLabel value="FECHA Y HORA REMISION"/></td>                            
                                <td>
                                    <p:calendar navigator="true" locale="es" value="#{historiasMB.datosFormulario.dato6}" pattern="dd/MM/yyyy HH:mm:ss" mask="true" size="23" style="width: 200px;">
                                        <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss"/>
                                    </p:calendar>
                                </td>
                            </tr>       
                        </table>
                        <br/>
                    </td>
                </tr>
                <tr>
                    <td colspan="2"><p:outputLabel value="OBSERVACIONES" /></td>
                </tr>
                <tr>
                    <td colspan="2"><p:inputTextarea  styleClass="width2" value="#{historiasMB.datosFormulario.dato17}"  /></td>                    
                </tr>
                <tr><td>&nbsp;</td></tr>
                <tr>
                    <td colspan="2">
                        <p:outputLabel value="FECHA-HORA REGISTRO"/>
                        <p:calendar navigator="true" locale="es" value="#{historiasMB.fechaReg}" pattern="dd/MM/yyyy HH:mm:ss" mask="true" size="23" style="width: 200px;" />
                    </td>
                </tr>
                <tr><td>&nbsp;</td></tr>
                <tr>
                    <td><p:outputLabel value="MEDICO"/></td>
                    <td><p:outputLabel value="ESPECIALIDAD"/></td>
                </tr>
                <tr>
                    <td>
                        <p:selectOneMenu style="width: 315px;" value="#{historiasMB.idPrestador}" filter="true" filterMatchMode="contains">                            
                            <p:ajax event="change" listener="#{historiasMB.cambiaMedico}" update="IdEspecialidad"/>
                            <f:selectItem itemLabel="" itemValue=""/>
                            <f:selectItems value="#{historiasMB.listaPrestadores}" var="p" itemLabel="#{p.primerNombre} #{p.segundoNombre} #{p.primerApellido} #{p.segundoApellido}" itemValue="#{p.idUsuario}"/>
                        </p:selectOneMenu>
                    </td>
                    <td><p:inputText id="IdEspecialidad" readonly="true" styleClass="width1" value="#{historiasMB.especialidadPrestador}"/></td>
                </tr>                
                <tr><td>&nbsp;</td></tr>
                <tr>
                    <td colspan="2">
                        <p:commandButton icon="ui-icon-disk" value="Guardar Nuevo Registro" 
                                         actionListener="#{historiasMB.guardarRegistro}" 
                                         disabled="#{historiasMB.modificandoRegCli}" update="@form"/>
                        <p:commandButton icon="ui-icon-arrowthickstop-1-s" value="Actualizar Registro" 
                                         actionListener="#{historiasMB.actualizarRegistro}" disabled="#{!historiasMB.modificandoRegCli}" 
                                         rendered="#{loginMB.superUsuario}" update="@form"/>
                        <p:commandButton icon="ui-icon-document" value="Limpiar Formulario" 
                                         actionListener="#{historiasMB.btnLimpiarFormulario}" update="@form"/>
                    </td>
                </tr>
            </table>            
            <p:dialog id="IdTextosDlgPredefinidos" header="TEXTOS PREDEFINIDOS" width="645" widgetVar="dlgTextosPredefinidos" resizable="false" closable="true" modal="true">                                
                <p:panelGrid styleClass="panelGridSinBordes" id="IdPanelTextosPredefinidos">
                    <p:row>
                        <p:column>
                            <p:outputLabel   styleClass="labelFormulario" style="width: 60px;" value="Categoría: "/>
                            <p:selectOneMenu styleClass="campoFormulario" style="width: 220px;" value="#{historiasMB.idMaestroTextoPredef}" >
                                <f:ajax event="change" listener="#{historiasMB.cambiaMaestro}" render="IdComboTextosPredefinidos IdEditorTextoPredefinido IdNombrePredefinido"/> 
                                <f:selectItem itemLabel="" itemValue=""/>
                                <f:selectItems value="#{historiasMB.listaMaestrosTxtPredefinidos}" var="maestro" itemValue="#{maestro.idMaestro}" itemLabel="#{maestro.nombre}"/>
                            </p:selectOneMenu>
                            <p:outputLabel   styleClass="labelFormulario" style="width: 60px;" value="Predefinidos: "/>
                            <p:selectOneMenu styleClass="campoFormulario" style="width: 220px;" id="IdComboTextosPredefinidos"  value="#{historiasMB.idTextoPredef}" >
                                <f:ajax 
                                    event="change"
                                    listener="#{historiasMB.cambiaTextoPredefinido}"                                                
                                    render="IdEditorTextoPredefinido IdNombrePredefinido"/>                                 
                                <f:selectItems value="#{historiasMB.listaTxtPredefinidos}" var="texto" itemValue="#{texto.idTxtPredefinido}" itemLabel="#{texto.nombre}"/>
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel styleClass="labelFormulario" value="Nombre: " style="width: 60px;"/>
                            <p:inputText   styleClass="campoFormulario" id="IdNombrePredefinido" size="39" value="#{historiasMB.nombreTextoPredefinido}"/>                                                    
                            <p:commandButton icon="ui-icon-circle-arrow-s" title="Usar seleccionado"    actionListener="#{historiasMB.usarTextoPredefinido}"/>
                            <p:commandButton icon="ui-icon-disk"           title="Guardar/Actualizar"   actionListener="#{historiasMB.guardarTextoPredefinido}" />            
                            <p:commandButton icon="ui-icon-trash"          title="Eliminar predefinido" id="IdBtnEliminarPredefinido"/>                                        
                            <p:overlayPanel for="IdBtnEliminarPredefinido" widgetVar="opEliminarPredefinido">
                                <p:outputLabel   styleClass="labelFormulario" value="¿Confirma la eliminación?  "/>
                                <p:commandButton value="Si" title="Crear nueva categoría" actionListener="#{historiasMB.eliminarPredefinido}" oncomplete="PF('opEliminarPredefinido').hide();"/>                        
                            </p:overlayPanel> 
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:editor id="IdEditorTextoPredefinido" value="#{historiasMB.detalleTextoPredef}" widgetVar="editorWidget" width="600" controls="bold italic underline font size bullets numbering alignleft center alignright justify undo redo"/>
                        </p:column>
                    </p:row>

                </p:panelGrid>             
            </p:dialog>
            <br/>
        </h:form>        
    </h:body>
</html>
